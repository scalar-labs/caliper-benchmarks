apply plugin: 'java'
apply plugin: 'application'

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'com.scalar-labs', name: 'scalardl-java-client-sdk', version: '2.1.0'
    compile group: 'org.hyperledger.fabric', name: 'fabric-gateway-java', version: '2.2.0'
}

startScripts.enabled = false

task SmallBankLoader(type: CreateStartScripts) {
    mainClassName = 'com.scalar.tool.SmallBankLoader'
    applicationName = 'smallbank-loader'
    outputDir = new File(project.buildDir, 'tmp')
    classpath = jar.outputs.files + project.configurations.runtime
}

task SmallBankBench(type: CreateStartScripts) {
    mainClassName = 'com.scalar.tool.SmallBankBench'
    applicationName = 'smallbank-bench'
    outputDir = new File(project.buildDir, 'tmp')
    classpath = jar.outputs.files + project.configurations.runtime
}

applicationDistribution.into('bin') {
    from(SmallBankLoader)
    fileMode = 0755
}

applicationDistribution.into('bin') {
    from(SmallBankBench)
    fileMode = 0755
}

sourceCompatibility = 1.8
targetCompatibility = 1.8
